from openai import OpenAI
import base64

# Initialize the client (ensure OPENAI_API_KEY is set)
client = OpenAI()

# 🔹 Step 1: Set your local image path
image_path = r"C:\Users\<YOUR_USERNAME>\Desktop\test.jpg"  # ⬅️ change to your actual file name

# 🔹 Step 2: Convert image to base64 and make a data URL
with open(image_path, "rb") as f:
    image_bytes = f.read()
base64_image = base64.b64encode(image_bytes).decode("utf-8")
data_url = f"data:image/jpeg;base64,{base64_image}"

# 🔹 Step 3: Build the messages
messages = [
    {
        "role": "user",
        "content": [
            {"type": "text", "text": "Describe what you see in this image."},
            {"type": "image_url", "image_url": {"url": data_url}},
        ],
    }
]

# 🔹 Step 4: Call GPT-4o
response = client.chat.completions.create(
    model="gpt-4o-mini",  # or "gpt-4o"
    messages=messages,
)

# 🔹 Step 5: Print the description
print(response.choices[0].message.content)